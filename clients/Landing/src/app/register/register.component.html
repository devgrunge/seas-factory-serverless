<alert type="danger" *ngIf="error" [dismissible]="true">
  <strong>Oh snap!</strong> There was an error provisioning your tenant.
</alert>
<alert type="success" *ngIf="success" [dismissible]="true">
  <strong>Success!</strong> Sucessfully provisioned your tenant.
</alert>
<div class="app-body">
  <main class="main d-flex align-items-center">
    <div class="container">
      <div class="row mt-3">
        <div class="col-md-6 mx-auto">
          <div class="card mx-4">
            <div class="card-body p-4">
              <form [formGroup]="form">
                <div class="form-group">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="fa fa-user"></i></span>
                    </div>
                    <input
                      type="text"
                      id="tenantName"
                      name="tenantName"
                      class="form-control"
                      formControlName="tenantName"
                      placeholder="Full Name"
                      [ngClass]="displayFieldCss('tenantName')"
                      required
                    />
                  </div>
                  <div *ngIf="isFieldInvalid('tenantName')"
                    class="alert alert-danger">
                    <div *ngIf="hasRequiredError('tenantName')">
                      Name is required.
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text"
                        ><i class="fa fa-envelope"></i
                      ></span>
                    </div>
                    <input
                      type="email"
                      id="tenantEmail"
                      name="tenantEmail"
                      class="form-control"
                      formControlName="tenantEmail"
                      placeholder="Email"
                      [ngClass]="displayFieldCss('tenantEmail')"
                      required
                    />
                  </div>
                  <div *ngIf="isFieldInvalid('tenantEmail')"
                    class="alert alert-danger">
                    <div *ngIf="hasRequiredError('tenantEmail')">
                      Email is required.
                    </div>
                    <div *ngIf="hasError('tenantEmail', 'email')">
                      Email is invalid.
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group">
                    <input
                      type="text"
                      id="tenantAddress"
                      name="tenantAddress"
                      class="form-control"
                      formControlName="tenantAddress"
                      placeholder="Enter Company Address"
                      [ngClass]="displayFieldCss('tenantAddress')"
                      required
                    />
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group">
                    <input
                      type="text"
                      id="tenantPhone"
                      name="tenantPhone"
                      class="form-control"
                      formControlName="tenantPhone"
                      placeholder="Enter Company Phone Number"
                      [ngClass]="displayFieldCss('tenantPhone')"
                      required
                    />
                  </div>
                  <div *ngIf="isFieldInvalid('tenantPhone')"
                    class="alert alert-danger">
                    <div *ngIf="hasRequiredError('tenantPhone')">
                      Phone number is required.
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="plan" class="text-muted">Please select your service plan</label>
                  <select
                    id="tenantTier"
                    name="tenantTier"
                    class="form-control"
                    formControlName="tenantTier"
                    placeholder="Select Plan"
                    [ngClass]="displayFieldCss('tenantTier')"
                    required
                  >
                    <option>Select one...</option>
                    <option value="Basic">Basic</option>
                    <option value="Standard">Standard</option>
                    <option value="Premium">Premium</option>
                    <option value="Platinum">Platinum</option>
                  </select>
                </div>
              </form>
            </div>
            <div class="card-footer p-4">
              <div class="row">
                <div class="col-6">
                  <button
                    class="btn btn-block btn-primary"
                    (click)="onSubmit()"
                    type="button"
                    [disabled]="!form.valid || submitting"
                  >
                    <span>Create</span>
                  </button>
                </div>
                <div class="col-6">
                  <button
                    class="btn btn-block btn-danger"
                    routerLink="/landing"
                    type="button"
                  >
                    <span>Cancel</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
